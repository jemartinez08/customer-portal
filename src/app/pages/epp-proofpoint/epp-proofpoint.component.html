<app-header
  title="EPP (Proofpoint)"
  [subtitle]="
    'Email protection, phishing detection, and user security awareness.'
  "
>
  <div kpiObject class="kpi-object-container">
    <app-header-card
      [KPICard]="notMainKpi"
      [group]="containedThreats"
      [KpiTitle]="'Contained Threats'"
    ></app-header-card>
    <app-header-card
      [KPICard]="notMainKpi"
      [group]="activeThreats"
      [KpiTitle]="'Active Threats'"
    ></app-header-card>
    <app-header-card
      [KPICard]="isMainKPI"
      [KpiTitle]="'Critical Threats'"
      [group]="criticalThreats"
    ></app-header-card>
  </div>
</app-header>

<div class="dashboard-content">
  <div class="main-grid-container">
    <!-- Chart 1: Threat Distribution by Type -->
    <div class="grid-item item1">
      <app-custom-barchart
        [dimension]="threatTypeDimension"
        [group]="threatsByType"
        xAxisLabel="Threat Type"
        yAxisLabel="Count"
        title="Threats by Type"
      ></app-custom-barchart>
    </div>

    <!-- Chart 2: Severity Distribution -->
    <div class="grid-item item2">
      <app-piechart
        [title]="'Threats by Severity'"
        [dimension]="severityDimension"
        [group]="threatsBySeverity"
      ></app-piechart>
    </div>

    <!-- Chart 3: Department Impact -->
    <div class="grid-item item3">
      <app-custom-barchart
        [dimension]="departmentDimension"
        [group]="threatsByDepartment"
        xAxisLabel="Department"
        yAxisLabel="Count"
        title="Threats by Department"
      ></app-custom-barchart>
    </div>

    <!-- Chart 4: Detection Methods -->
    <div class="grid-item item4">
      <app-custom-barchart
        [dimension]="detectionMethodDimension"
        [group]="threatsByDetectionMethod"
        xAxisLabel="Detection Method"
        yAxisLabel="Count"
        title="Detection Methods"
      ></app-custom-barchart>
    </div>

    <!-- Chart 5: Threat Timeline -->
    <div class="grid-item item5">
      <app-custom-linechart
        [dimention]="monthDimension"
        [group]="threatsByMonth"
        [title]="'Threat Detection Timeline'"
      ></app-custom-linechart>
    </div>
    <div class="grid-item item5">
      <app-custom-linechart
        [dimention]="monthDimension"
        [group]="threatsByMonth"
        [title]="'Threat Detection Timeline'"
      ></app-custom-linechart>
    </div>
  </div>
</div>
